{"ast":null,"code":"import _regeneratorRuntime from\"/Users/johncomonitski/Programming Projects/Dashboard2/Dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/johncomonitski/Programming Projects/Dashboard2/Dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/johncomonitski/Programming Projects/Dashboard2/Dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useContext}from'react';import{Col,Row,Card,Form,Button,Dropdown}from'@themesberg/react-bootstrap';import{UserContext}from\"./UserContext\";import{AlertTable}from\"../components/AlertWidgets\";import{Routes}from\"../routes\";import $ from'jquery';export default(function(props){//User\nvar _useContext=useContext(UserContext),user=_useContext.user;//Relect the control center\nvar _useState=useState({action:\"bought\",addstroke:\"false\",animation:\"wave\",background:\"none\",client_id:\"\",code:\"OWNER\",color:\"#000000\",custom:\"null\",font:\"Bebas Neue/BebasNeue-Regular.ttf\",shadow:true,sound:\"bits.mp3\",stroke:\"#000000\",volume:0}),_useState2=_slicedToArray(_useState,2),settings=_useState2[0],setSettings=_useState2[1];//Relfect the state of all user settings\nvar _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),defaultSettings=_useState4[0],setDefaultSettings=_useState4[1];var _useState5=useState([{}]),_useState6=_slicedToArray(_useState5,2),productSettings=_useState6[0],setProductSettings=_useState6[1];//List of user alerts\nvar _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),alertList=_useState8[0],setAlertList=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),alertNamesTimeout=_useState10[0],setAlertNamesTimeout=_useState10[1];//Display\nvar _useState11=useState(\"none\"),_useState12=_slicedToArray(_useState11,2),backgroundImg=_useState12[0],setBackgroundImg=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),showBackground=_useState14[0],setShowBackground=_useState14[1];var _useState15=useState({}),_useState16=_slicedToArray(_useState15,2),textColor=_useState16[0],setTextColor=_useState16[1];//AlertControls\nvar _useState17=useState(\"Default\"),_useState18=_slicedToArray(_useState17,2),prod=_useState18[0],setProd=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),useDefault=_useState20[0],setDefault=_useState20[1];var _useState21=useState(settings.background),_useState22=_slicedToArray(_useState21,2),background=_useState22[0],setBackground=_useState22[1];var _useState23=useState(settings.animation),_useState24=_slicedToArray(_useState23,2),animation=_useState24[0],setAnimation=_useState24[1];var _useState25=useState(settings.sound),_useState26=_slicedToArray(_useState25,2),sound=_useState26[0],setSound=_useState26[1];var _useState27=useState(settings.font),_useState28=_slicedToArray(_useState27,2),font=_useState28[0],setFont=_useState28[1];var _useState29=useState(settings.color),_useState30=_slicedToArray(_useState29,2),color=_useState30[0],setColor=_useState30[1];var _useState31=useState(typelessBool(settings.addstroke)),_useState32=_slicedToArray(_useState31,2),stroke=_useState32[0],setStroke=_useState32[1];var _useState33=useState(settings.stroke),_useState34=_slicedToArray(_useState33,2),strokeColor=_useState34[0],setStrokeColor=_useState34[1];var _useState35=useState(typelessBool(settings.shadow)),_useState36=_slicedToArray(_useState35,2),dropShadow=_useState36[0],setDropShadow=_useState36[1];var _useState37=useState(settings.volume),_useState38=_slicedToArray(_useState37,2),volume=_useState38[0],setVolume=_useState38[1];var _useState39=useState(settings.message),_useState40=_slicedToArray(_useState39,2),message=_useState40[0],setMessage=_useState40[1];var _useState41=useState(\"\"),_useState42=_slicedToArray(_useState41,2),showSettings=_useState42[0],setShowSettings=_useState42[1];//Sets up Controls\nuseEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var tmp,productsTab,i,option;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0://Making sure we're logged in\nif(user.id===undefined||user.id===\"\"){props.history.push({pathname:Routes.Signin.path});}//Default Settings\n_context.next=3;return getSettings(user.id);case 3:tmp=_context.sent;setSettings(tmp);setDefaultSettings(tmp);updateControl(tmp);//Product productSettings\nproductsTab=document.getElementById(\"product\");_context.next=10;return getProductSettings(user.id);case 10:tmp=_context.sent;for(i=0;i<tmp.rows.length;i++){option=document.createElement(\"option\");option.text=tmp.rows[i].short_name;option.label=tmp.rows[i].short_name;option.value=tmp.rows[i].short_name;productsTab.add(option);}setProductSettings(tmp.rows);getAlertNames(user.id,setAlertList);case 14:case\"end\":return _context.stop();}}},_callee);}))();return function cleanUp(){clearTimeout(alertNamesTimeout);};},[]);//Updates Display\nuseEffect(function(){//Dislay\nsetTextColor(textStyle(settings));changeFont(settings.font);//Change background image;\nif(background===\"none\"||background===\"None\"){setShowBackground(\"d-none\");setBackgroundImg(\"\");}else{setShowBackground(\"\");setBackgroundImg(\"http://creatorinventory.com/alerts/backgrounds/\"+settings.background);}},[color,font,stroke,strokeColor,dropShadow,background,message,prod]);function textStyle(settings){var style={color:settings.color};if(typelessBool(settings.shadow)){style.textShadow=\"2px 2px 4px black\";}if(typelessBool(settings.addstroke)){style.webkitTextStroke=\"1px \".concat(settings.stroke);}return style;}function changeFont(font){if(font!==\"null\"){var face=font;var newStyle=document.createElement('style');newStyle.appendChild(document.createTextNode(\"      @font-face {        font-family: \"+face.split(\"/\")[0]+\";        src: url('http://creatorinventory.com/alerts/fonts/\"+face.split(\"/\")[1]+\"') format('truetype');      }      \"));document.head.appendChild(newStyle);document.getElementById('name').style.fontFamily=face.split(\"/\")[0];document.getElementById('item').style.fontFamily=face.split(\"/\")[0];document.getElementById('action').style.fontFamily=face.split(\"/\")[0];}else{document.getElementById('name').style.fontFamily=\"\";document.getElementById('item').style.fontFamily=\"\";document.getElementById('action').style.fontFamily=\"\";}}function updateMessage(settings){var messageBox=document.getElementById(\"message\");messageBox.value=\"Name \";var readOnlyLength=$('#message').val().length;messageBox.value=messageBox.value+settings.action;$('#message').on('keypress, keydown',function(event){var $message=$(this);$('#output').text(event.which+'-'+this.selectionStart);if(event.which!==37&&event.which!==39&&(this.selectionStart<readOnlyLength||this.selectionStart===readOnlyLength&&event.which===8)){return false;}});setMessage(messageBox.value.substring(5));}function typelessBool(val){if(val===true||val===\"true\"||val===\"True\"||val===\"TRUE\"){return true;}else if(val===false||val===\"false\"||val===\"False\"||val===\"FALSE\"){return false;}else{console.log(\"bad bool:\",val);return val;}}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center py-4\"},/*#__PURE__*/React.createElement(\"h2\",null,\" Stream Alerts\"),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex ms-auto\"},/*#__PURE__*/React.createElement(Button,{variant:\"secondary\",size:\"sm\",className:\"me-2\",onClick:saveSettings},\"Save\"),/*#__PURE__*/React.createElement(Button,{variant:\"secondary\",size:\"sm\",className:\"me-2\",onClick:testAlert},\"Test\"))),/*#__PURE__*/React.createElement(Row,{className:\"justify-content-md-center\"},/*#__PURE__*/React.createElement(Col,{xs:12,className:\"mb-4\"},/*#__PURE__*/React.createElement(Card,{border:\"light\",className:\"shadow-sm\"},/*#__PURE__*/React.createElement(Card.Body,{style:{marginLeft:\"auto\",marginRight:\"auto\"}},/*#__PURE__*/React.createElement(\"div\",{id:\"alertDisplay\"},/*#__PURE__*/React.createElement(\"div\",{id:\"alertContainer\"},/*#__PURE__*/React.createElement(\"img\",{id:\"alertBg\",alt:\"alertbg\",className:\"float \"+showBackground,src:backgroundImg}),/*#__PURE__*/React.createElement(\"div\",{id:\"c\",className:\"float\"},/*#__PURE__*/React.createElement(\"div\",{id:\"alert\"},/*#__PURE__*/React.createElement(\"div\",{id:\"top\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"varText\",style:textColor,id:\"name\"},\"Name \"),/*#__PURE__*/React.createElement(\"h1\",{className:\"staticText\",style:textColor,id:\"action\"},message)),/*#__PURE__*/React.createElement(\"div\",{id:\"gif\"},/*#__PURE__*/React.createElement(\"img\",{src:\"\",alt:\"product\",id:\"img\"})),/*#__PURE__*/React.createElement(\"div\",{id:\"bottom\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"varText\",style:textColor,id:\"item\"},\"Product Name!\"),/*#__PURE__*/React.createElement(\"h1\",{className:\"staticText\",style:textColor,id:\"code\"},\" \")))))))))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{xs:12,className:\"mb-4\"},/*#__PURE__*/React.createElement(Card,{border:\"light\",className:\"shadow-sm\"},/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(\"h5\",{className:\"mb-4\"},\"Alert Settings\"),/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:6,className:\"mb-3\"},/*#__PURE__*/React.createElement(Form.Group,null,/*#__PURE__*/React.createElement(Form.Label,null,\"Product\"),/*#__PURE__*/React.createElement(Form.Select,{id:\"product\",defaultValue:prod,onChange:function onChange(e){setProd(e.target.value);updateSettings();}},/*#__PURE__*/React.createElement(\"option\",{value:\"Default\"},\"Default\")))),/*#__PURE__*/React.createElement(Col,{md:6,className:\"mb-3\"},/*#__PURE__*/React.createElement(Form.Group,null,/*#__PURE__*/React.createElement(Form.Label,null,\"Use Default Settings\"),/*#__PURE__*/React.createElement(Form.Check,{id:\"default\",type:\"checkbox\",onChange:function onChange(event){useDefaultBtn(event.currentTarget.checked);},checked:useDefault})))),/*#__PURE__*/React.createElement(Dropdown.Divider,{className:showSettings+\"my-3 border-indigo\"}),/*#__PURE__*/React.createElement(Row,{className:showSettings},/*#__PURE__*/React.createElement(Col,{md:6,className:\"mb-3\"},/*#__PURE__*/React.createElement(Form.Group,{className:showSettings},/*#__PURE__*/React.createElement(Form.Label,null,\"Background\"),/*#__PURE__*/React.createElement(Form.Select,{id:\"background\",value:background,onChange:function onChange(e){var tmp=settings;tmp.background=e.target.value;setBackground(e.target.value);setSettings(tmp);}},/*#__PURE__*/React.createElement(\"option\",{value:\"None\"},\"None\"),/*#__PURE__*/React.createElement(\"option\",{value:\"slide.png\"},\"Slide\"),/*#__PURE__*/React.createElement(\"option\",{value:\"wall.png\"},\"Wall\"),/*#__PURE__*/React.createElement(\"option\",{value:\"black.png\"},\"Black\"),/*#__PURE__*/React.createElement(\"option\",{value:\"white.png\"},\"White\"),/*#__PURE__*/React.createElement(\"option\",{value:\"partyparot.gif\"},\"Party Parrot\"),/*#__PURE__*/React.createElement(\"option\",{value:\"neonpop.gif\"},\"Neon Pop\"),/*#__PURE__*/React.createElement(\"option\",{value:\"sparkle.gif\"},\"Sparkles\"),/*#__PURE__*/React.createElement(\"option\",{value:\"stars.gif\"},\"Stars\"),/*#__PURE__*/React.createElement(\"option\",{value:\"vaporwave.gif\"},\"Vapor Wave\")))),/*#__PURE__*/React.createElement(Col,{md:6,className:\"mb-3\"},/*#__PURE__*/React.createElement(Form.Group,{className:showSettings},/*#__PURE__*/React.createElement(Form.Label,null,\"Animation\"),/*#__PURE__*/React.createElement(Form.Select,{id:\"animation\",value:animation,onChange:function onChange(e){var tmp=settings;tmp.animation=e.target.value;setAnimation(e.target.value);setSettings(tmp);}},/*#__PURE__*/React.createElement(\"option\",{value:\"0\"},\"Default\"),/*#__PURE__*/React.createElement(\"option\",{value:\"wave\"},\"Wave\"),/*#__PURE__*/React.createElement(\"option\",{value:\"appear\"},\"Appear\"))))),/*#__PURE__*/React.createElement(Row,{className:showSettings},/*#__PURE__*/React.createElement(Col,{md:6,className:\"mb-3\"},/*#__PURE__*/React.createElement(Form.Group,{className:showSettings},/*#__PURE__*/React.createElement(Form.Label,null,\"Sound\"),/*#__PURE__*/React.createElement(Form.Select,{id:\"sound\",value:sound,onChange:function onChange(e){var tmp=settings;tmp.sound=e.target.value;setSound(e.target.value);setSettings(tmp);}},/*#__PURE__*/React.createElement(\"option\",{value:\"blops.mp3\"},\"Blops\"),/*#__PURE__*/React.createElement(\"option\",{value:\"firesale.mp3\"},\"Fire Sale\"),/*#__PURE__*/React.createElement(\"option\",{value:\"darkaether.mp3\"},\"Dark Aether\"),/*#__PURE__*/React.createElement(\"option\",{value:\"bits.mp3\"},\"Bits\"),/*#__PURE__*/React.createElement(\"option\",{value:\"gong.mp3\"},\"Gong\"),/*#__PURE__*/React.createElement(\"option\",{value:\"text.mp3\"},\"Text Message\")))),/*#__PURE__*/React.createElement(Col,{md:6,className:\"mb-3\"},/*#__PURE__*/React.createElement(Form.Group,{className:showSettings},/*#__PURE__*/React.createElement(Form.Label,null,\"Font\"),/*#__PURE__*/React.createElement(Form.Select,{id:\"font\",value:font,onChange:function onChange(e){var tmp=settings;tmp.font=e.target.value;setFont(e.target.value);setSettings(tmp);}},/*#__PURE__*/React.createElement(\"option\",{value:\"null\"},\"Default\"),/*#__PURE__*/React.createElement(\"option\",{value:\"digits/digits.ttf\"},\"Digits\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Bebas Neue/BebasNeue-Regular.ttf\"},\"Bebas Neue\"),/*#__PURE__*/React.createElement(\"option\",{value:\"aAttackGraffiti/aAttackGraffiti.ttf\"},\"Graffiti\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Vogue/Vogue.ttf\"},\"Vogue\"))))),/*#__PURE__*/React.createElement(Row,{className:showSettings},/*#__PURE__*/React.createElement(Col,{md:6,className:\"mb-3\"},/*#__PURE__*/React.createElement(Form.Group,{className:showSettings},/*#__PURE__*/React.createElement(Form.Label,null,\"Message\"),/*#__PURE__*/React.createElement(Form.Control,{id:\"message\",required:true,type:\"text\",onChange:function onChange(e){var tmp=settings;tmp.action=e.target.value;setMessage(e.target.value.substring(5));setSettings(tmp);}}))),/*#__PURE__*/React.createElement(Col,{md:6,className:\"mb-3\"},/*#__PURE__*/React.createElement(Form.Group,{className:showSettings},/*#__PURE__*/React.createElement(Form.Label,null,\"Volume\"),/*#__PURE__*/React.createElement(Form.Control,{id:\"volume\",required:true,type:\"range\",value:volume,onChange:function onChange(e){var tmp=settings;tmp.volume=e.target.value;setVolume(e.target.value);setSettings(tmp);}})))),/*#__PURE__*/React.createElement(Row,{className:showSettings},/*#__PURE__*/React.createElement(Col,{md:3,className:\"mb-3\"},/*#__PURE__*/React.createElement(Form.Group,{className:showSettings},/*#__PURE__*/React.createElement(Form.Label,null,\"Color\"),/*#__PURE__*/React.createElement(Form.Control,{id:\"color\",required:true,type:\"color\",value:color,onChange:function onChange(e){var tmp=settings;tmp.color=e.target.value;setColor(e.target.value);setSettings(tmp);}}))),/*#__PURE__*/React.createElement(Col,{md:3,className:\"mb-3\"},/*#__PURE__*/React.createElement(Form.Group,{className:showSettings},/*#__PURE__*/React.createElement(Form.Label,null,\"Drop Shadow\"),/*#__PURE__*/React.createElement(Form.Check,{id:\"shadow\",required:true,type:\"checkbox\",checked:dropShadow,onChange:function onChange(e){var tmp=settings;tmp.shadow=e.target.checked;setDropShadow(typelessBool(e.target.checked));setSettings(tmp);}}))),/*#__PURE__*/React.createElement(Col,{md:3,className:\"mb-3\"},/*#__PURE__*/React.createElement(Form.Group,{className:showSettings},/*#__PURE__*/React.createElement(Form.Label,null,\"Stroke\"),/*#__PURE__*/React.createElement(Form.Check,{id:\"stroke\",required:true,type:\"checkbox\",checked:stroke,onChange:function onChange(e){var tmp=settings;tmp.addstroke=e.target.checked;setStroke(typelessBool(e.target.checked));setSettings(tmp);}}))),/*#__PURE__*/React.createElement(Col,{md:3,className:\"mb-3\"},/*#__PURE__*/React.createElement(Form.Group,{className:showSettings},/*#__PURE__*/React.createElement(Form.Label,null,\"Stroke Color\"),/*#__PURE__*/React.createElement(Form.Control,{id:\"stroke-color\",required:true,type:\"color\",value:strokeColor,onChange:function onChange(e){var tmp=settings;tmp.stroke=e.target.value;setStrokeColor(e.target.value);setSettings(tmp);}}))))))))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Card,{border:\"light\",className:\"bg-white shadow-sm mb-4\"},/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(\"h5\",{className:\"mb-4\"},\"Alert Link\"),/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{xs:10,className:\"mb-3\"},/*#__PURE__*/React.createElement(Form.Group,null,/*#__PURE__*/React.createElement(Form.Control,{id:\"link\",value:\"https://creatorinventory.com/alerts/\"+user.id.toLowerCase(),required:true,type:\"text\"}))),/*#__PURE__*/React.createElement(Col,{xs:2,className:\"mb-3\"},/*#__PURE__*/React.createElement(Button,{variant:\"primary\",onClick:copyLink,type:\"button\"},\"Copy\")))))))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{xs:12,xl:12,className:\"mb-4\"},/*#__PURE__*/React.createElement(Card,{border:\"light\",className:\"bg-white shadow-sm mb-4\"},/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(\"h5\",{className:\"mb-4\"},\"Most recent alerts\"),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(AlertTable,{data:alertList})))))));function copyLink(){var linkHolder=document.getElementById(\"link\");linkHolder.select();linkHolder.setSelectionRange(0,99999);/* For mobile devices */document.execCommand(\"copy\");alert(\"Copied the text: \"+linkHolder.value);}function getAlertNames(_x,_x2){return _getAlertNames.apply(this,arguments);}//Settings and Controls Functions\nfunction _getAlertNames(){_getAlertNames=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id,setAlertList){var url,Response,allNames,tmp,i,row;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0://Get All Names\nurl=\"https://rf8fbiwmr5.execute-api.us-west-2.amazonaws.com/dev/StreamAlert?id=\"+id+\"&mode=names\";_context2.next=3;return new Promise(function(resolve,reject){var req=fetch(url,{method:'GET',// *GET, POST, PUT, DELETE, etc.\nmode:'cors',// no-cors, *cors, same-origin\ncache:'no-cache',// *default, no-cache, reload, force-cache, only-if-cached\ncredentials:'same-origin',// include, *same-origin, omit\nheaders:{'Content-Type':'text/plain'// 'Content-Type': 'application/x-www-form-urlencoded',\n},redirect:'follow',// manual, *follow, error\nreferrerPolicy:'no-referrer'// no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n});req.then(function(result){var res=result.json();res.then(function(tmp){resolve({statusCode:200,body:JSON.stringify(tmp,null,4)});});});});case 3:Response=_context2.sent;allNames=JSON.parse(Response.body).rows;//Prep Names\ntmp=[];for(i=0;i<allNames.length;i++){row={\"date\":allNames[i].date.substring(0,10),\"name\":allNames[i].name,\"order\":allNames[i].short_name};tmp.push(row);}setAlertList(tmp);setAlertNamesTimeout(setTimeout(getAlertNames,20000,id,setAlertList));case 9:case\"end\":return _context2.stop();}}},_callee2);}));return _getAlertNames.apply(this,arguments);}function getSettings(_x3){return _getSettings.apply(this,arguments);}function _getSettings(){_getSettings=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){var url,Response,tmp;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:url=\"https://rf8fbiwmr5.execute-api.us-west-2.amazonaws.com/dev/StreamAlert?id=\"+id+\"&mode=get\";_context3.next=3;return new Promise(function(resolve,reject){var req=fetch(url,{method:'GET',// *GET, POST, PUT, DELETE, etc.\nmode:'cors',// no-cors, *cors, same-origin\ncache:'no-cache',// *default, no-cache, reload, force-cache, only-if-cached\ncredentials:'same-origin',// include, *same-origin, omit\nheaders:{'Content-Type':'text/plain'// 'Content-Type': 'application/x-www-form-urlencoded',\n},redirect:'follow',// manual, *follow, error\nreferrerPolicy:'no-referrer'// no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n});req.then(function(result){var res=result.json();res.then(function(tmp){resolve({statusCode:200,body:JSON.stringify(tmp,null,4)});});});});case 3:Response=_context3.sent;tmp=JSON.parse(Response.body);return _context3.abrupt(\"return\",tmp);case 6:case\"end\":return _context3.stop();}}},_callee3);}));return _getSettings.apply(this,arguments);}function getProductSettings(_x4){return _getProductSettings.apply(this,arguments);}function _getProductSettings(){_getProductSettings=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(id){var url,Response,tmp;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:url=\"https://rf8fbiwmr5.execute-api.us-west-2.amazonaws.com/dev/StreamAlert?id=\"+id+\"&mode=products\";_context4.next=3;return new Promise(function(resolve,reject){var req=fetch(url,{method:'GET',// *GET, POST, PUT, DELETE, etc.\nmode:'cors',// no-cors, *cors, same-origin\ncache:'no-cache',// *default, no-cache, reload, force-cache, only-if-cached\ncredentials:'same-origin',// include, *same-origin, omit\nheaders:{'Content-Type':'text/plain'// 'Content-Type': 'application/x-www-form-urlencoded',\n},redirect:'follow',// manual, *follow, error\nreferrerPolicy:'no-referrer'// no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n});req.then(function(result){var res=result.json();res.then(function(tmp){resolve({statusCode:200,body:JSON.stringify(tmp,null,4)});});});});case 3:Response=_context4.sent;tmp=JSON.parse(Response.body);return _context4.abrupt(\"return\",tmp);case 6:case\"end\":return _context4.stop();}}},_callee4);}));return _getProductSettings.apply(this,arguments);}function updateControl(settings){updateMessage(settings);if(document.getElementById(\"product\").value!=\"Default\"){setDefault(settings.default_settings);}else{setDefault(false);}setBackground(settings.background);setAnimation(settings.animation);setSound(settings.sound);setFont(settings.font);setColor(settings.color);setStroke(settings.addstroke);setStrokeColor(settings.stroke);setDropShadow(settings.shadow);setVolume(settings.volume);}function useDefaultBtn(value){var product=document.getElementById(\"product\").value;if(product!=\"Default\"){//Not a default product\nconsole.log(value);setDefault(value);//update Product mem\nfor(var i=0;i<productSettings.length;i++){if(productSettings[i].short_name===product){var tmp=productSettings;tmp[i].default_settings=value;setProductSettings(tmp);setSettings(productSettings[i]);}}//check if we need to swith to default and hide settings\nif(value){setSettings(defaultSettings);setShowSettings(\"d-none \");}else{setShowSettings(\"\");}}else{//default, do nothing\nsetDefault(false);}}function updateSettings(){var product=document.getElementById(\"product\").value;if(product===\"Default\"){setShowSettings(\"\");setSettings(defaultSettings);updateControl(defaultSettings);}else{for(var i=0;i<productSettings.length;i++){if(productSettings[i].short_name===product){//check for show default\nsetSettings(productSettings[i]);updateControl(productSettings[i]);if(productSettings[i].default_settings){setShowSettings(\"d-none \");}else{setShowSettings(\"\");}}}}}function saveSettings(){return _saveSettings.apply(this,arguments);}//Test Alert Button\nfunction _saveSettings(){_saveSettings=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var product,url,i,tmp;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:product=document.getElementById(\"product\").value;url=\"https://rf8fbiwmr5.execute-api.us-west-2.amazonaws.com/dev/StreamAlert?id=\"+user.id+\"&mode=set\";if(product===\"Default\"){url=url+\"&animation=\"+settings.animation;url=url+\"&background=\"+settings.background;url=url+\"&sound=\"+settings.sound;url=url+\"&font=\"+settings.font;url=url+\"&volume=\"+(settings.volume/100).toString();url=url+\"&code=\"+settings.code;url=url+\"&color=\"+settings.color.substring(1);url=url+\"&action=\"+settings.action.substring(5).trim();url=url+\"&stroke=\"+settings.stroke.substring(1);url=url+\"&addstroke=\"+settings.addStrokes;url=url+\"&shadow=\"+settings.shadow;url=url+\"&pid=default\";setDefaultSettings(settings);}else{if(settings.default_settings){url=url+\"&pid=\"+settings.product_id;url=url+\"&usedefault=true\";for(i=0;i<productSettings.length;i++){if(productSettings[i].short_name===product){tmp=productSettings;tmp[i].default_settings=true;setProductSettings(tmp);}}}else{url=url+\"&animation=\"+settings.animation;url=url+\"&background=\"+settings.background;url=url+\"&sound=\"+settings.sound;url=url+\"&font=\"+settings.font;url=url+\"&volume=\"+(settings.volume/100).toString();url=url+\"&code=\"+settings.code;url=url+\"&color=\"+settings.color.substring(1);url=url+\"&action=\"+settings.action.substring(5).trim();url=url+\"&stroke=\"+settings.stroke.substring(1);url=url+\"&addstroke=\"+settings.addStrokes;url=url+\"&shadow=\"+settings.shadow;url=url+\"&pid=\"+settings.product_id;url=url+\"&usedefault=false\";url=url+\"&shortname=\"+settings.short_name;//Update Product Settings\nfor(i=0;i<productSettings.length;i++){if(productSettings[i]===product){tmp=productSettings;tmp[i]=settings;setProductSettings(tmp);}}}}//Send request\n_context5.next=5;return new Promise(function(resolve,reject){var req=fetch(url,{method:'GET',// *GET, POST, PUT, DELETE, etc.\nmode:'cors',// no-cors, *cors, same-origin\ncache:'no-cache',// *default, no-cache, reload, force-cache, only-if-cached\ncredentials:'same-origin',// include, *same-origin, omit\nheaders:{'Content-Type':'text/plain'// 'Content-Type': 'application/x-www-form-urlencoded',\n},redirect:'follow',// manual, *follow, error\nreferrerPolicy:'no-referrer'// no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n});req.then(function(result){var res=result.json();res.then(function(tmp){resolve({statusCode:200,body:JSON.stringify(tmp,null,4)});});});});case 5:alert(\"Alert settings saved!\");case 6:case\"end\":return _context5.stop();}}},_callee5);}));return _saveSettings.apply(this,arguments);}function testAlert(){return _testAlert.apply(this,arguments);}function _testAlert(){_testAlert=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var Alert,Gif,BG;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return runAnimation();case 2:Alert=document.getElementById('alert');Alert.style.animation=\"\";Gif=document.getElementById(\"gif\");Gif.style.animation=\"\";BG=document.getElementById(\"alertBg\");BG.style.animation=\"\";case 8:case\"end\":return _context6.stop();}}},_callee6);}));return _testAlert.apply(this,arguments);}function runAnimation(){if(document.getElementById(\"alert\").style.animation===\"\"){//init\nvar animationLength=21;var Alert=document.getElementById('alert');Alert.style.animation=\"none\";var Name=document.getElementById('name');Name.innerHTML=\"Name\";var Action=document.getElementById('action');Action.innerHTML=message;var Product=document.getElementById('item');Product.innerHTML=\"Product Name!\";var Gif=document.getElementById(\"gif\");Gif.style.animation=\"none\";var BG=document.getElementById(\"alertBg\");BG.style.animation=\"none\";//animation prep\nvar animatedText=[];animatedText.push(Name.innerHTML);//var count = (Name.innerHTML.length)\nName.innerHTML=animatedTextPrep(Name.innerHTML,0);animatedText.push(Action.innerHTML);//count += (Product.innerHTML.length)\nAction.innerHTML=animatedTextPrep(Action.innerHTML,animatedText[0].length);animatedText.push(Product.innerHTML);//count += (Product.innerHTML.length)\nProduct.innerHTML=animatedTextPrep(Product.innerHTML,animatedText[0].length+animatedText[1].length);//Setting assests and settings\nBG.src=\"http://creatorinventory.com/alerts/backgrounds/\"+settings.background;var sound=\"http://creatorinventory.com/alerts/sounds/\"+settings.sound;sound=new Audio(sound);sound.volume=settings.volume/100;if(settings.animation===\"wave\"){SetWaveAnimation(animatedText);}else if(settings.animation===\"appear\"){setPopInAnimation(animatedText);}else if(settings.animation===\"none\"){SetNoneAnimation(animatedText);}document.getElementById('name').style.color=settings.color;document.getElementById('item').style.color=settings.color;if(settings.font!=='null'){var newStyle=document.createElement('style');newStyle.appendChild(document.createTextNode(\"  \\t\\t\\t@font-face {  \\t\\t\\t\\tfont-family: \"+settings.font.split(\"/\")[0]+\";  \\t\\t\\t\\tsrc: url('http://creatorinventory.com/alerts/fonts/\"+settings.font.split(\"/\")[1]+\"') format('truetype');  \\t\\t\\t}  \\t\\t\\t\"));document.head.appendChild(newStyle);document.getElementById('name').style.fontFamily=settings.font.split(\"/\")[0];document.getElementById('item').style.fontFamily=settings.font.split(\"/\")[0];}//img\ndocument.getElementById(\"img\").src=\"http://creatorinventory.com/dashboard/product.png\";//fading in\nBG.style.animation=\"fadeIn \"+animationLength+\"s forwards 1\";Gif.style.animation=\"fadeIn \"+animationLength+\"s forwards 1\";Alert.style.animation=\"fadeIn \"+animationLength+\"s forwards 1\";sound.play();}return;}//ALERT TEST FUNCTIONS AND ANIMATIONS\nfunction animatedTextPrep(letters,count){var html=\"\";for(var i=count;i<letters.length+count;i++){var Char=letters.charAt(i-count);if(Char===\" \"){Char=\"&nbsp\";}html+=\"<span id = \\\"\"+i+\"\\\">\"+Char+\"</span>\";}return html;}function SetNoneAnimation(animatedText){var count=0;for(var i=0;i<animatedText.length;i++){var Text=animatedText[i];for(var j=0;j<Text.length;j++){document.getElementById(\"\"+count).style.opacity=1;count+=1;}}}function SetWaveAnimation(animatedText){var count=0;for(var i=0;i<animatedText.length;i++){var Text=animatedText[i];for(var j=0;j<Text.length;j++){document.getElementById(\"\"+count).style.animation=\"text-wave ease-in-out 2s forwards 10\";document.getElementById(\"\"+count).style.animationDelay=250*(j%8)+\"ms\";document.getElementById(\"\"+count).style.opacity=1;count+=1;}}}function setPopInAnimation(animatedText){var count=0;for(var i=0;i<animatedText.length;i++){var Text=animatedText[i];for(var j=0;j<Text.length;j++){document.getElementById(\"\"+count).style.animation=\"pop-in ease .1s forwards\";document.getElementById(\"\"+count).style.animationDelay=100*count+\"ms\";count+=1;}}}});","map":{"version":3,"sources":["/Users/johncomonitski/Programming Projects/Dashboard2/Dashboard/src/pages/StreamAlerts.js"],"names":["React","useState","useEffect","useContext","Col","Row","Card","Form","Button","Dropdown","UserContext","AlertTable","Routes","$","props","user","action","addstroke","animation","background","client_id","code","color","custom","font","shadow","sound","stroke","volume","settings","setSettings","defaultSettings","setDefaultSettings","productSettings","setProductSettings","alertList","setAlertList","alertNamesTimeout","setAlertNamesTimeout","backgroundImg","setBackgroundImg","showBackground","setShowBackground","textColor","setTextColor","prod","setProd","useDefault","setDefault","setBackground","setAnimation","setSound","setFont","setColor","typelessBool","setStroke","strokeColor","setStrokeColor","dropShadow","setDropShadow","setVolume","message","setMessage","showSettings","setShowSettings","id","undefined","history","push","pathname","Signin","path","getSettings","tmp","updateControl","productsTab","document","getElementById","getProductSettings","i","rows","length","option","createElement","text","short_name","label","value","add","getAlertNames","cleanUp","clearTimeout","textStyle","changeFont","style","textShadow","webkitTextStroke","face","newStyle","appendChild","createTextNode","split","head","fontFamily","updateMessage","messageBox","readOnlyLength","val","on","event","$message","which","selectionStart","substring","console","log","saveSettings","testAlert","marginLeft","marginRight","e","target","updateSettings","useDefaultBtn","currentTarget","checked","toLowerCase","copyLink","linkHolder","select","setSelectionRange","execCommand","alert","url","Promise","resolve","reject","req","fetch","method","mode","cache","credentials","headers","redirect","referrerPolicy","then","result","res","json","statusCode","body","JSON","stringify","Response","allNames","parse","row","date","name","setTimeout","default_settings","product","toString","trim","addStrokes","product_id","runAnimation","Alert","Gif","BG","animationLength","Name","innerHTML","Action","Product","animatedText","animatedTextPrep","src","Audio","SetWaveAnimation","setPopInAnimation","SetNoneAnimation","play","letters","count","html","Char","charAt","Text","j","opacity","animationDelay"],"mappings":"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","sourcesContent":["\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Col, Row, Card, Form, Button, Dropdown } from '@themesberg/react-bootstrap';\nimport { UserContext } from \"./UserContext\";\nimport { AlertTable } from \"../components/AlertWidgets\"\nimport { Routes } from \"../routes\";\nimport $ from 'jquery';\n\nexport default (props) => {\n  //User\n  const {user} = useContext(UserContext);\n  //Relect the control center\n  const [settings, setSettings] = useState({action: \"bought\", addstroke: \"false\", animation: \"wave\", background: \"none\", client_id: \"\", code: \"OWNER\", color: \"#000000\", custom: \"null\", font: \"Bebas Neue/BebasNeue-Regular.ttf\", shadow: true, sound: \"bits.mp3\", stroke: \"#000000\", volume: 0});\n  //Relfect the state of all user settings\n  const [defaultSettings, setDefaultSettings] = useState({});\n  const [productSettings, setProductSettings] = useState([{}]);\n  //List of user alerts\n  const [alertList, setAlertList] = useState([]);\n  const [alertNamesTimeout, setAlertNamesTimeout] = useState(0);\n  //Display\n  const [backgroundImg, setBackgroundImg] = useState(\"none\");\n  const [showBackground, setShowBackground] = useState(\"\")\n  const [textColor, setTextColor] = useState({});\n  //AlertControls\n  const [prod, setProd] = useState(\"Default\")\n  const [useDefault, setDefault] = useState(false);\n  const [background, setBackground] = useState(settings.background);\n  const [animation, setAnimation] = useState(settings.animation);\n  const [sound, setSound] = useState(settings.sound);\n  const [font, setFont] = useState(settings.font);\n  const [color, setColor] = useState(settings.color);\n  const [stroke, setStroke] = useState(typelessBool(settings.addstroke));\n  const [strokeColor, setStrokeColor] = useState(settings.stroke);\n  const [dropShadow, setDropShadow] = useState(typelessBool(settings.shadow));\n  const [volume, setVolume] = useState(settings.volume);\n  const [message, setMessage] = useState(settings.message);\n  const [showSettings, setShowSettings] = useState(\"\")\n\n  //Sets up Controls\n  useEffect(() => {\n    (async() => {\n      //Making sure we're logged in\n      if(user.id === undefined || user.id===\"\"){\n        props.history.push({pathname: Routes.Signin.path});\n      }\n\n      //Default Settings\n      var tmp = await getSettings(user.id);\n      setSettings(tmp);\n      setDefaultSettings(tmp);\n      updateControl(tmp)\n\n      //Product productSettings\n      var productsTab = document.getElementById(\"product\")\n      tmp = await getProductSettings(user.id);\n      for (var i = 0; i < tmp.rows.length; i++){\n    \t\tvar option = document.createElement(\"option\");\n    \t\toption.text = tmp.rows[i].short_name\n    \t\toption.label = tmp.rows[i].short_name\n    \t\toption.value = tmp.rows[i].short_name\n        productsTab.add(option)\n    \t}\n      setProductSettings(tmp.rows);\n\n      getAlertNames(user.id, setAlertList)\n    })()\n    return function cleanUp(){\n      clearTimeout(alertNamesTimeout);\n    }\n  },[])\n\n  //Updates Display\n  useEffect(() => {\n    //Dislay\n    setTextColor(textStyle(settings))\n    changeFont(settings.font)\n    //Change background image;\n    if(background === \"none\" || background === \"None\"){\n      setShowBackground(\"d-none\")\n      setBackgroundImg(\"\")\n    }\n    else{\n      setShowBackground(\"\")\n      setBackgroundImg(\"http://creatorinventory.com/alerts/backgrounds/\"+settings.background)\n    }\n  },[color,font,stroke,strokeColor,dropShadow,background,message,prod]);\n\n  function textStyle(settings) {\n    var style = {color: settings.color};\n    if(typelessBool(settings.shadow)){\n      style.textShadow = \"2px 2px 4px black\";\n    }\n    if(typelessBool(settings.addstroke)){\n      style.webkitTextStroke = `1px ${settings.stroke}`;\n    }\n    return style;\n  }\n  function changeFont(font){\n    if(font !== \"null\"){\n      var face = font\n      var newStyle = document.createElement('style');\n      newStyle.appendChild(document.createTextNode(`\\\n      @font-face {\\\n        font-family: ` + face.split(\"/\")[0] + `;\\\n        src: url('http://creatorinventory.com/alerts/fonts/` + face.split(\"/\")[1] + `') format('truetype');\\\n      }\\\n      `));\n      document.head.appendChild(newStyle);\n      document.getElementById('name').style.fontFamily = face.split(\"/\")[0];\n      document.getElementById('item').style.fontFamily = face.split(\"/\")[0];\n      document.getElementById('action').style.fontFamily = face.split(\"/\")[0];\n    }\n    else{\n      document.getElementById('name').style.fontFamily = \"\";\n      document.getElementById('item').style.fontFamily = \"\";\n      document.getElementById('action').style.fontFamily = \"\";\n    }\n  }\n  function updateMessage(settings){\n    var messageBox = document.getElementById(\"message\");\n    messageBox.value = \"Name \"\n    var readOnlyLength = $('#message').val().length;\n    messageBox.value = messageBox.value + settings.action;\n    $('#message').on('keypress, keydown', function(event) {\n      var $message = $(this);\n      $('#output').text(event.which + '-' + this.selectionStart);\n      if ((event.which !== 37 && (event.which !== 39))\n        && ((this.selectionStart < readOnlyLength)\n        || ((this.selectionStart === readOnlyLength) && (event.which === 8)))) {\n        return false;\n      }\n    });\n    setMessage(messageBox.value.substring(5))\n  }\n  function typelessBool(val){\n    if(val === true || val === \"true\" || val === \"True\" || val === \"TRUE\"){\n      return true\n    }\n    else if(val === false || val === \"false\" || val === \"False\" || val === \"FALSE\"){\n      return false\n    }\n    else{\n      console.log(\"bad bool:\",val)\n      return val\n    }\n  }\n  return (\n    <>\n      <div className=\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center py-4\">\n        <h2> Stream Alerts</h2>\n\n        <div className=\"d-flex ms-auto\">\n            <Button variant=\"secondary\" size=\"sm\" className=\"me-2\" onClick={saveSettings} >Save</Button>\n            <Button variant=\"secondary\" size=\"sm\" className=\"me-2\" onClick={testAlert} >Test</Button>\n        </div>\n      </div>\n\n      <Row className=\"justify-content-md-center\">\n        <Col xs={12} className=\"mb-4\">\n          <Card border=\"light\" className=\"shadow-sm\">\n            <Card.Body style={{marginLeft:\"auto\", marginRight:\"auto\"}} >\n              <div id = \"alertDisplay\">\n                <div id = \"alertContainer\">\n                  <img id=\"alertBg\" alt=\"alertbg\" className = {\"float \"+showBackground} src={backgroundImg}/>\n                  <div id = \"c\" className = \"float\">\n                    <div id=\"alert\">\n                      <div id = \"top\">\n                        <h1 className = 'varText' style={textColor} id = \"name\">{\"Name \"}</h1>\n                        <h1 className = \"staticText\" style={textColor} id = \"action\">{message}</h1>\n                      </div>\n                      <div id = \"gif\">\n                        <img src=\"\" alt=\"product\" id = \"img\"/>\n                      </div>\n                      <div id = \"bottom\" >\n                        <h1 className = 'varText' style={textColor} id = \"item\">Product Name!</h1>\n                        <h1 className = 'staticText' style={textColor} id = \"code\"> </h1>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </Card.Body>\n          </Card>\n        </Col>\n      </Row>\n\n      <Row>\n        <Col xs={12} className=\"mb-4\">\n          <Card border=\"light\" className=\"shadow-sm\">\n            <Card.Body>\n              <h5 className=\"mb-4\">Alert Settings</h5>\n              <Form>\n              <Row>\n                <Col md={6} className=\"mb-3\">\n                  <Form.Group >\n                    <Form.Label>Product</Form.Label>\n                    <Form.Select id=\"product\" defaultValue={prod} onChange={e => {setProd(e.target.value); updateSettings();} }>\n                      <option value=\"Default\">Default</option>\n                    </Form.Select>\n                  </Form.Group>\n                </Col>\n                <Col md={6} className=\"mb-3\">\n                  <Form.Group >\n                    <Form.Label>Use Default Settings</Form.Label>\n                    <Form.Check id=\"default\" type=\"checkbox\" onChange={(event) => {useDefaultBtn(event.currentTarget.checked);}} checked={useDefault}/>\n                  </Form.Group>\n                </Col>\n              </Row>\n              <Dropdown.Divider className={showSettings+\"my-3 border-indigo\"} />\n              <Row className={showSettings}>\n                <Col md={6} className=\"mb-3\">\n                  <Form.Group className={showSettings}>\n                    <Form.Label>Background</Form.Label>\n                    <Form.Select id=\"background\" value={background} onChange={e => {var tmp = settings; tmp.background = e.target.value; setBackground(e.target.value); setSettings(tmp);}}>\n                      <option value=\"None\">None</option>\n                      <option value=\"slide.png\">Slide</option>\n                      <option value=\"wall.png\">Wall</option>\n                      <option value=\"black.png\">Black</option>\n                      <option value=\"white.png\">White</option>\n                      <option value=\"partyparot.gif\">Party Parrot</option>\n                      <option value=\"neonpop.gif\">Neon Pop</option>\n                      <option value=\"sparkle.gif\">Sparkles</option>\n                      <option value=\"stars.gif\">Stars</option>\n                      <option value=\"vaporwave.gif\">Vapor Wave</option>\n                    </Form.Select>\n                  </Form.Group>\n                </Col>\n                <Col md={6} className=\"mb-3\">\n                  <Form.Group className={showSettings}>\n                    <Form.Label>Animation</Form.Label>\n                    <Form.Select id=\"animation\" value={animation} onChange={e => {var tmp = settings; tmp.animation = e.target.value; setAnimation(e.target.value); setSettings(tmp);}}>\n                      <option value=\"0\">Default</option>\n                      <option value=\"wave\">Wave</option>\n                      <option value=\"appear\">Appear</option>\n                    </Form.Select>\n                  </Form.Group>\n                </Col>\n              </Row>\n              <Row className={showSettings}>\n                <Col md={6} className=\"mb-3\">\n                  <Form.Group className={showSettings}>\n                    <Form.Label>Sound</Form.Label>\n                    <Form.Select id=\"sound\" value={sound} onChange={e => {var tmp = settings; tmp.sound = e.target.value; setSound(e.target.value); setSettings(tmp);}}>\n                      <option value=\"blops.mp3\">Blops</option>\n                      <option value=\"firesale.mp3\">Fire Sale</option>\n                      <option value=\"darkaether.mp3\">Dark Aether</option>\n                      <option value=\"bits.mp3\">Bits</option>\n                      <option value=\"gong.mp3\">Gong</option>\n                      <option value=\"text.mp3\">Text Message</option>\n                    </Form.Select>\n                  </Form.Group>\n                </Col>\n                <Col md={6} className=\"mb-3\">\n                  <Form.Group className={showSettings}>\n                    <Form.Label>Font</Form.Label>\n                    <Form.Select id=\"font\" value={font} onChange={e => {var tmp = settings; tmp.font = e.target.value; setFont(e.target.value); setSettings(tmp);}}>\n                      <option value=\"null\">Default</option>\n                      <option value=\"digits/digits.ttf\">Digits</option>\n                      <option value=\"Bebas Neue/BebasNeue-Regular.ttf\">Bebas Neue</option>\n                      <option value=\"aAttackGraffiti/aAttackGraffiti.ttf\">Graffiti</option>\n                      <option value=\"Vogue/Vogue.ttf\">Vogue</option>\n                    </Form.Select>\n                  </Form.Group>\n                </Col>\n              </Row>\n              <Row className={showSettings}>\n                <Col md={6} className=\"mb-3\">\n                  <Form.Group className={showSettings}>\n                    <Form.Label>Message</Form.Label>\n                    <Form.Control id=\"message\"  required type=\"text\"  onChange={e => {var tmp = settings; tmp.action = e.target.value; setMessage(e.target.value.substring(5)); setSettings(tmp);}}/>\n                  </Form.Group>\n                </Col>\n                <Col md={6} className=\"mb-3\">\n                  <Form.Group className={showSettings}>\n                    <Form.Label>Volume</Form.Label>\n                    <Form.Control id=\"volume\" required type=\"range\" value={volume} onChange={e => {var tmp = settings; tmp.volume = e.target.value; setVolume(e.target.value); setSettings(tmp);}}/>\n                  </Form.Group>\n                </Col>\n              </Row>\n              <Row className={showSettings}>\n                <Col md={3} className=\"mb-3\">\n                  <Form.Group className={showSettings}>\n                    <Form.Label>Color</Form.Label>\n                    <Form.Control id=\"color\" required type=\"color\" value={color} onChange={e => {var tmp = settings; tmp.color = e.target.value; setColor(e.target.value); setSettings(tmp);}}/>\n                  </Form.Group>\n                </Col>\n                <Col md={3} className=\"mb-3\">\n                  <Form.Group className={showSettings}>\n                    <Form.Label>Drop Shadow</Form.Label>\n                    <Form.Check id=\"shadow\" required type=\"checkbox\" checked={dropShadow} onChange={e => {var tmp = settings; tmp.shadow = e.target.checked; setDropShadow(typelessBool(e.target.checked)); setSettings(tmp);}}/>\n                  </Form.Group>\n                </Col>\n                <Col md={3} className=\"mb-3\">\n                  <Form.Group className={showSettings}>\n                    <Form.Label>Stroke</Form.Label>\n                    <Form.Check id=\"stroke\" required type=\"checkbox\" checked={stroke} onChange={e => {var tmp = settings; tmp.addstroke = e.target.checked; setStroke(typelessBool(e.target.checked)); setSettings(tmp);}}/>\n                  </Form.Group>\n                </Col>\n                <Col md={3} className=\"mb-3\">\n                  <Form.Group className={showSettings}>\n                    <Form.Label>Stroke Color</Form.Label>\n                    <Form.Control id=\"stroke-color\" required type=\"color\" value={strokeColor} onChange={e => {var tmp = settings; tmp.stroke = e.target.value; setStrokeColor(e.target.value); setSettings(tmp);}}/>\n                  </Form.Group>\n                </Col>\n              </Row>\n\n              </Form>\n            </Card.Body>\n          </Card>\n        </Col>\n      </Row>\n\n      <Row>\n        <Col >\n          <Card border=\"light\" className=\"bg-white shadow-sm mb-4\">\n            <Card.Body>\n              <h5 className=\"mb-4\">Alert Link</h5>\n              <Form>\n                <Row>\n                  <Col xs={10} className=\"mb-3\">\n                    <Form.Group >\n                      <Form.Control id=\"link\" value={\"https://creatorinventory.com/alerts/\"+user.id.toLowerCase()} required type=\"text\" />\n                    </Form.Group>\n\n                  </Col>\n                  <Col xs={2} className=\"mb-3\">\n                    <Button variant=\"primary\" onClick={copyLink}type=\"button\" >Copy</Button>\n                  </Col>\n                </Row>\n              </Form>\n            </Card.Body>\n          </Card>\n        </Col>\n      </Row>\n\n\n      <Row>\n        <Col xs={12} xl={12} className=\"mb-4\">\n          <Card border=\"light\" className=\"bg-white shadow-sm mb-4\">\n            <Card.Body>\n              <h5 className=\"mb-4\">Most recent alerts</h5>\n              <Row>\n                <AlertTable data={alertList} />\n              </Row>\n            </Card.Body>\n          </Card>\n        </Col>\n      </Row>\n    </>\n  );\n\n  function copyLink(){\n    var linkHolder = document.getElementById(\"link\")\n    linkHolder.select();\n    linkHolder.setSelectionRange(0, 99999); /* For mobile devices */\n    document.execCommand(\"copy\");\n\n    alert(\"Copied the text: \" + linkHolder.value);\n  }\n  async function getAlertNames(id, setAlertList){\n      //Get All Names\n      var url = \"https://rf8fbiwmr5.execute-api.us-west-2.amazonaws.com/dev/StreamAlert?id=\" + id + \"&mode=names\";\n      const Response = await new Promise((resolve, reject) => {\n        var req = fetch(url, {\n        \tmethod: 'GET', // *GET, POST, PUT, DELETE, etc.\n        \tmode: 'cors', // no-cors, *cors, same-origin\n        \tcache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n        \tcredentials: 'same-origin', // include, *same-origin, omit\n        \theaders: {\n        \t  'Content-Type': 'text/plain',\n        \t  // 'Content-Type': 'application/x-www-form-urlencoded',\n        \t},\n        \tredirect: 'follow', // manual, *follow, error\n        \treferrerPolicy: 'no-referrer' // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n        });\n        req.then((result) => {\n            var res = result.json()\n            res.then((tmp) => {\n                resolve({\n        \t\t    statusCode: 200,\n        \t\t    body: JSON.stringify(tmp, null, 4)\n        \t    });\n            });\n        });\n      });\n      var allNames = JSON.parse(Response.body).rows;\n\n      //Prep Names\n      var tmp = [];\n      for(var i = 0; i < allNames.length; i++){\n        var row = {\"date\": allNames[i].date.substring(0,10), \"name\": allNames[i].name, \"order\": allNames[i].short_name};\n        tmp.push(row);\n      }\n\n      setAlertList(tmp)\n      setAlertNamesTimeout(setTimeout(getAlertNames, 20000, id, setAlertList));\n  }\n\n  //Settings and Controls Functions\n  async function getSettings(id){\n    var url = \"https://rf8fbiwmr5.execute-api.us-west-2.amazonaws.com/dev/StreamAlert?id=\" + id + \"&mode=get\";\n\n    const Response = await new Promise((resolve, reject) => {\n  \tvar req = fetch(url, {\n  \t\tmethod: 'GET', // *GET, POST, PUT, DELETE, etc.\n  \t\tmode: 'cors', // no-cors, *cors, same-origin\n  \t\tcache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n  \t\tcredentials: 'same-origin', // include, *same-origin, omit\n  \t\theaders: {\n  \t\t  'Content-Type': 'text/plain',\n  \t\t  // 'Content-Type': 'application/x-www-form-urlencoded',\n  \t\t},\n  \t\tredirect: 'follow', // manual, *follow, error\n  \t\treferrerPolicy: 'no-referrer' // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n  \t});\n  \treq.then((result) => {\n  \t    var res = result.json()\n  \t    res.then((tmp) => {\n  \t        resolve({\n      \t\t    statusCode: 200,\n      \t\t    body: JSON.stringify(tmp, null, 4)\n      \t    });\n  \t    });\n  \t});\n    });\n    var tmp = (JSON.parse(Response.body));\n    return tmp;\n  }\n  async function getProductSettings(id){\n    var url = \"https://rf8fbiwmr5.execute-api.us-west-2.amazonaws.com/dev/StreamAlert?id=\" + id + \"&mode=products\";\n\n    const Response = await new Promise((resolve, reject) => {\n  \tvar req = fetch(url, {\n  \t\tmethod: 'GET', // *GET, POST, PUT, DELETE, etc.\n  \t\tmode: 'cors', // no-cors, *cors, same-origin\n  \t\tcache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n  \t\tcredentials: 'same-origin', // include, *same-origin, omit\n  \t\theaders: {\n  \t\t  'Content-Type': 'text/plain',\n  \t\t  // 'Content-Type': 'application/x-www-form-urlencoded',\n  \t\t},\n  \t\tredirect: 'follow', // manual, *follow, error\n  \t\treferrerPolicy: 'no-referrer' // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n  \t});\n  \treq.then((result) => {\n  \t    var res = result.json()\n  \t    res.then((tmp) => {\n  \t        resolve({\n      \t\t    statusCode: 200,\n      \t\t    body: JSON.stringify(tmp, null, 4)\n      \t    });\n  \t    });\n  \t});\n    });\n    var tmp = (JSON.parse(Response.body));\n    return tmp;\n  }\n  function updateControl(settings){\n    updateMessage(settings);\n    if(document.getElementById(\"product\").value != \"Default\"){\n      setDefault(settings.default_settings);\n    }\n    else{\n      setDefault(false);\n    }\n    setBackground(settings.background);\n    setAnimation(settings.animation);\n    setSound(settings.sound);\n    setFont(settings.font);\n    setColor(settings.color);\n    setStroke(settings.addstroke);\n    setStrokeColor(settings.stroke);\n    setDropShadow(settings.shadow);\n    setVolume(settings.volume);\n  }\n  function useDefaultBtn(value){\n    var product = document.getElementById(\"product\").value\n    if(product != \"Default\"){\n      //Not a default product\n      console.log(value)\n      setDefault(value);\n      //update Product mem\n      for(var i=0; i<productSettings.length; i++){\n        if(productSettings[i].short_name === product){\n          var tmp = productSettings;\n          tmp[i].default_settings = value\n          setProductSettings(tmp);\n          setSettings(productSettings[i]);\n        }\n      }\n      //check if we need to swith to default and hide settings\n      if(value){\n        setSettings(defaultSettings);\n        setShowSettings(\"d-none \")\n      }\n      else{\n\n        setShowSettings(\"\")\n      }\n    }\n    else{\n      //default, do nothing\n      setDefault(false);\n    }\n  }\n  function updateSettings(){\n    var product = document.getElementById(\"product\").value\n    if(product === \"Default\"){\n      setShowSettings(\"\")\n      setSettings(defaultSettings);\n      updateControl(defaultSettings);\n    }\n    else{\n      for(var i=0; i<productSettings.length; i++){\n        if(productSettings[i].short_name === product){\n          //check for show default\n          setSettings(productSettings[i]);\n          updateControl(productSettings[i])\n          if(productSettings[i].default_settings){\n            setShowSettings(\"d-none \")\n          }\n          else{\n            setShowSettings(\"\")\n          }\n        }\n      }\n    }\n  }\n  async function saveSettings(){\n    var product = document.getElementById(\"product\").value\n\n  \tvar url = \"https://rf8fbiwmr5.execute-api.us-west-2.amazonaws.com/dev/StreamAlert?id=\" + user.id + \"&mode=set\";\n\n  \tif(product === \"Default\"){\n  \t\turl = url + \"&animation=\" + settings.animation;\n  \t\turl = url + \"&background=\" + settings.background;\n  \t\turl = url + \"&sound=\" + settings.sound;\n  \t\turl = url + \"&font=\" + settings.font;\n  \t\turl = url + \"&volume=\" + (settings.volume/100).toString();\n  \t\turl = url + \"&code=\" + settings.code;\n  \t\turl = url + \"&color=\" + (settings.color).substring(1);\n  \t\turl = url + \"&action=\" + settings.action.substring(5).trim();\n  \t\turl = url + \"&stroke=\" + (settings.stroke).substring(1);\n  \t\turl = url + \"&addstroke=\" + settings.addStrokes;\n  \t\turl = url + \"&shadow=\" + settings.shadow;\n  \t\turl = url + \"&pid=default\"\n\n      setDefaultSettings(settings)\n  \t}\n  \telse{\n  \t\tif(settings.default_settings){\n  \t\t\turl = url + \"&pid=\" + settings.product_id;\n  \t\t\turl = url + \"&usedefault=true\"\n\n  \t\t\tfor (var i = 0; i < productSettings.length; i++){\n  \t\t\t\tif(productSettings[i].short_name === product){\n  \t\t\t\t\tvar tmp = productSettings;\n            tmp[i].default_settings = true\n            setProductSettings(tmp);\n  \t\t\t\t}\n  \t\t\t}\n  \t\t}\n  \t\telse{\n        url = url + \"&animation=\" + settings.animation;\n    \t\turl = url + \"&background=\" + settings.background;\n    \t\turl = url + \"&sound=\" + settings.sound;\n    \t\turl = url + \"&font=\" + settings.font;\n    \t\turl = url + \"&volume=\" + (settings.volume/100).toString();\n    \t\turl = url + \"&code=\" + settings.code;\n    \t\turl = url + \"&color=\" + (settings.color).substring(1);\n    \t\turl = url + \"&action=\" + settings.action.substring(5).trim();\n    \t\turl = url + \"&stroke=\" + (settings.stroke).substring(1);\n    \t\turl = url + \"&addstroke=\" + settings.addStrokes;\n    \t\turl = url + \"&shadow=\" + settings.shadow;\n        url = url + \"&pid=\" + settings.product_id;\n  \t\t\turl = url + \"&usedefault=false\"\n  \t\t\turl = url + \"&shortname=\" + settings.short_name;\n\n        //Update Product Settings\n        for (i = 0; i < productSettings.length; i++){\n  \t\t\t\tif(productSettings[i] === product){\n  \t\t\t\t\ttmp = productSettings;\n            tmp[i] = settings;\n            setProductSettings(tmp);\n  \t\t\t\t}\n  \t\t\t}\n  \t\t}\n  \t}\n\n  \t//Send request\n  \tawait new Promise((resolve, reject) => {\n  \t\tvar req = fetch(url, {\n  \t\t\tmethod: 'GET', // *GET, POST, PUT, DELETE, etc.\n  \t\t\tmode: 'cors', // no-cors, *cors, same-origin\n  \t\t\tcache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n  \t\t\tcredentials: 'same-origin', // include, *same-origin, omit\n  \t\t\theaders: {\n  \t\t\t  'Content-Type': 'text/plain',\n  \t\t\t  // 'Content-Type': 'application/x-www-form-urlencoded',\n  \t\t\t},\n  \t\t\tredirect: 'follow', // manual, *follow, error\n  \t\t\treferrerPolicy: 'no-referrer' // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n  \t\t});\n  \t\treq.then((result) => {\n  \t\t\tvar res = result.json()\n  \t\t\tres.then((tmp) => {\n  \t\t\t\tresolve({\n  \t\t\t\t\tstatusCode: 200,\n  \t\t\t\t\tbody: JSON.stringify(tmp, null, 4)\n  \t\t\t\t});\n  \t\t\t});\n  \t\t});\n  \t});\n\n  \talert(\"Alert settings saved!\");\n  }\n\n  //Test Alert Button\n  async function testAlert(){\n    await runAnimation();\n    const Alert = document.getElementById('alert');\n    Alert.style.animation = \"\";\n    const Gif = document.getElementById(\"gif\")\n    Gif.style.animation = \"\";\n    const BG = document.getElementById(\"alertBg\")\n    BG.style.animation = \"\";\n  }\n  function runAnimation(){\n    if(document.getElementById(\"alert\").style.animation === \"\"){\n\n  \t\t//init\n  \t\tvar animationLength = 21\n  \t\tconst Alert = document.getElementById('alert');\n  \t\tAlert.style.animation = \"none\";\n  \t\tconst Name = document.getElementById('name');\n  \t\tName.innerHTML = \"Name\"\n      const Action = document.getElementById('action');\n      Action.innerHTML = message\n  \t\tconst Product = document.getElementById('item');\n  \t\tProduct.innerHTML = \"Product Name!\"\n  \t\tconst Gif = document.getElementById(\"gif\")\n  \t\tGif.style.animation = \"none\";\n  \t\tconst BG = document.getElementById(\"alertBg\")\n  \t\tBG.style.animation = \"none\";\n\n  \t\t//animation prep\n  \t\tvar animatedText = [];\n  \t\tanimatedText.push(Name.innerHTML);\n  \t\t//var count = (Name.innerHTML.length)\n  \t\tName.innerHTML = animatedTextPrep(Name.innerHTML,0);\n      animatedText.push(Action.innerHTML);\n  \t\t//count += (Product.innerHTML.length)\n  \t\tAction.innerHTML = animatedTextPrep(Action.innerHTML,animatedText[0].length);\n  \t\tanimatedText.push(Product.innerHTML);\n  \t\t//count += (Product.innerHTML.length)\n  \t\tProduct.innerHTML = animatedTextPrep(Product.innerHTML,(animatedText[0].length + animatedText[1].length));\n\n  \t\t//Setting assests and settings\n  \t\tBG.src = \"http://creatorinventory.com/alerts/backgrounds/\"+settings.background;\n  \t\tvar sound = \"http://creatorinventory.com/alerts/sounds/\"+settings.sound;\n      sound = new Audio(sound);\n  \t\tsound.volume = settings.volume/100;\n  \t\tif(settings.animation === \"wave\"){\n  \t\t\tSetWaveAnimation(animatedText);\n  \t\t}\n  \t\telse if(settings.animation === \"appear\"){\n  \t\t\tsetPopInAnimation(animatedText);\n  \t\t}\n  \t\telse if(settings.animation === \"none\"){\n  \t\t\tSetNoneAnimation(animatedText)\n  \t\t}\n  \t\tdocument.getElementById('name').style.color = settings.color;\n  \t\tdocument.getElementById('item').style.color = settings.color;\n\n  \t\tif(settings.font !== 'null'){\n  \t\t\tvar newStyle = document.createElement('style');\n  \t\t\tnewStyle.appendChild(document.createTextNode(`\\\n  \t\t\t@font-face {\\\n  \t\t\t\tfont-family: ` + settings.font.split(\"/\")[0] + `;\\\n  \t\t\t\tsrc: url('http://creatorinventory.com/alerts/fonts/` + settings.font.split(\"/\")[1] + `') format('truetype');\\\n  \t\t\t}\\\n  \t\t\t`));\n\n  \t\t\tdocument.head.appendChild(newStyle);\n  \t\t\tdocument.getElementById('name').style.fontFamily = settings.font.split(\"/\")[0];\n  \t\t\tdocument.getElementById('item').style.fontFamily = settings.font.split(\"/\")[0];\n  \t\t}\n  \t\t//img\n  \t\tdocument.getElementById(\"img\").src = \"http://creatorinventory.com/dashboard/product.png\"\n\n  \t\t//fading in\n  \t\tBG.style.animation = \"fadeIn \" + animationLength +\"s forwards 1\";\n  \t\tGif.style.animation = \"fadeIn \" + animationLength +\"s forwards 1\";\n  \t\tAlert.style.animation = \"fadeIn \" + animationLength +\"s forwards 1\";\n  \t\tsound.play()\n  \t}\n    return;\n  }\n  //ALERT TEST FUNCTIONS AND ANIMATIONS\n  function animatedTextPrep(letters, count){\n  \tvar html = \"\";\n  \tfor(var i =count; i < (letters.length+count); i++){\n  \t\tvar Char = letters.charAt(i-count)\n  \t\tif(Char === \" \"){\n  \t\t\tChar = \"&nbsp\"\n  \t\t}\n  \t\thtml += \"<span id = \\\"\" + i + \"\\\">\" + Char + \"</span>\";\n  \t}\n  \treturn html\n  }\n  function SetNoneAnimation(animatedText){\n  \tvar count = 0\n  \tfor(var i =0; i < animatedText.length; i++){\n  \t\tvar Text = animatedText[i];\n  \t\tfor(var j = 0; j< Text.length; j++){\n  \t\t\tdocument.getElementById(\"\" + count).style.opacity = 1;\n  \t\t\tcount += 1;\n  \t\t}\n  \t}\n  }\n  function SetWaveAnimation(animatedText){\n  \tvar count = 0\n  \tfor(var i =0; i < animatedText.length; i++){\n  \t\tvar Text = animatedText[i];\n  \t\tfor(var j = 0; j< Text.length; j++){\n  \t\t\tdocument.getElementById(\"\" + count).style.animation = \"text-wave ease-in-out 2s forwards 10\";\n  \t\t\tdocument.getElementById(\"\" + count).style.animationDelay = (250*(j%8)) + \"ms\";\n  \t\t\tdocument.getElementById(\"\" + count).style.opacity = 1;\n  \t\t\tcount += 1;\n  \t\t}\n  \t}\n  }\n  function setPopInAnimation(animatedText){\n  \tvar count = 0\n  \tfor(var i =0; i < animatedText.length; i++){\n  \t\tvar Text = animatedText[i];\n  \t\tfor(var j = 0; j< Text.length; j++){\n  \t\t\tdocument.getElementById(\"\" + count).style.animation = \"pop-in ease .1s forwards\";\n  \t\t\tdocument.getElementById(\"\" + count).style.animationDelay = (100*(count)) + \"ms\";\n  \t\t\tcount += 1;\n\n  \t\t}\n  \t}\n\n  }\n\n\n};\n"]},"metadata":{},"sourceType":"module"}