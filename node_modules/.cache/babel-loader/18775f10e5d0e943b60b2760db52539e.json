{"ast":null,"code":"var _jsxFileName = \"/Users/johncomonitski/Programming Projects/Dashboard2/Dashboard/src/components/Forms.js\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { Col, Row, Card, Form, Button, InputGroup } from '@themesberg/react-bootstrap';\nimport { UserContext } from \"../pages/UserContext\";\nexport const GeneralInfoForm = props => {\n  //Form items\n  const [firstname, setFirstname] = useState(\"\");\n  const [lastname, setLastname] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [paypal_email, setPaypal_Email] = useState(\"\");\n  const [ss_api, setSS_Api] = useState(\"\");\n  const [shopify_site, setShopify_Site] = useState(\"\"); //User\n\n  const {\n    userSettings,\n    id\n  } = props; //User\n\n  const {\n    user,\n    setUser\n  } = useContext(UserContext);\n  useEffect(() => {\n    setFirstname(userSettings.firstname);\n    setLastname(userSettings.lastname);\n    setEmail(userSettings.email);\n    setPaypal_Email(userSettings.paypal_email);\n    setSS_Api(userSettings.ss_api);\n    setShopify_Site(userSettings.shopify_site);\n  }, []);\n  return /*#__PURE__*/React.createElement(Card, {\n    border: \"light\",\n    className: \"bg-white shadow-sm mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, \"General information\"), /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 6,\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 17\n    }\n  }, \"First Name\"), /*#__PURE__*/React.createElement(Form.Control, {\n    id: \"firstname\",\n    value: firstname,\n    onChange: e => setFirstname(e.target.value),\n    required: true,\n    type: \"text\",\n    placeholder: \"Enter your first name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    md: 6,\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }\n  }, \"Last Name\"), /*#__PURE__*/React.createElement(Form.Control, {\n    id: \"lastname\",\n    value: lastname,\n    onChange: e => setLastname(e.target.value),\n    required: true,\n    type: \"text\",\n    placeholder: \"Also your last name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }\n  })))), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 12,\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(Form.Control, {\n    id: \"email\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    required: true,\n    type: \"text\",\n    placeholder: \"name@company.com\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  })))), /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"my-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, \"Stream Alert and Payment Information\"), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 12,\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, \"Paypal Email\"), /*#__PURE__*/React.createElement(Form.Control, {\n    id: \"paypal\",\n    value: paypal_email,\n    onChange: e => setPaypal_Email(e.target.value),\n    required: true,\n    type: \"text\",\n    placeholder: \"Enter your paypal email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    md: 12,\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, \"Squarespace API Key\"), /*#__PURE__*/React.createElement(Form.Control, {\n    id: \"ss\",\n    value: ss_api,\n    onChange: e => setSS_Api(e.target.value),\n    required: true,\n    type: \"text\",\n    placeholder: \"Enter your Squarespace API Key\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    md: 12,\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, \"Shopify site URL\"), /*#__PURE__*/React.createElement(Form.Control, {\n    id: \"shopify\",\n    value: shopify_site,\n    onChange: e => setShopify_Site(e.target.value),\n    required: true,\n    type: \"text\",\n    placeholder: \"Enter your Shopify site url\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    type: \"button\",\n    onClick: updateDB,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, \"Save All\")))));\n\n  async function updateDB() {\n    var updates = \"\";\n    var tmpUser = user;\n\n    if (document.getElementById(\"firstname\").value !== \"\") {\n      updates = updates + \"&firstname=\" + document.getElementById(\"firstname\").value;\n      tmpUser.settings.firstname = document.getElementById(\"firstname\").value;\n    }\n\n    if (document.getElementById(\"lastname\").value !== \"\") {\n      updates = updates + \"&lastname=\" + document.getElementById(\"lastname\").value;\n      tmpUser.settings.lastname = document.getElementById(\"lastname\").value;\n    }\n\n    if (document.getElementById(\"email\").value !== \"\") {\n      updates = updates + \"&email=\" + document.getElementById(\"email\").value;\n      tmpUser.settings.email = document.getElementById(\"email\").value;\n    }\n\n    if (document.getElementById(\"paypal\").value !== \"\") {\n      updates = updates + \"&paypal=\" + document.getElementById(\"paypal\").value;\n      tmpUser.settings.paypal_email = document.getElementById(\"paypal\").value;\n    }\n\n    if (document.getElementById(\"ss\").value !== \"\") {//updates = updates +\"&ss=\" + document.getElementById(\"ss\").value;\n      //tmpUser.settings.ss_api = document.getElementById(\"ss\").value;\n    }\n\n    if (document.getElementById(\"shopify\").value !== \"\") {//updates = updates +\"&shopify=\" + document.getElementById(\"shopify\").value;\n      //tmpUser.settings.shopify_site = document.getElementById(\"shopify\").value;\n    }\n\n    console.log(updates);\n    setUser(tmpUser);\n\n    if (updates !== \"\") {\n      queryDB(updates, \"\", \"settings\", id);\n    }\n  }\n\n  async function queryDB(start, end, q, id) {\n    //Building API Call\n    var url = \"https://d7rc7vsgld.execute-api.us-west-2.amazonaws.com/dev/q?id=\" + id;\n    url += \"&q=\" + q;\n    url += start; //console.log(url)\n    //Making Call\n\n    const Response = await new Promise((resolve, reject) => {\n      var req = fetch(url, {\n        method: 'GET',\n        // *GET, POST, PUT, DELETE, etc.\n        mode: 'cors',\n        // no-cors, *cors, same-origin\n        cache: 'no-cache',\n        // *default, no-cache, reload, force-cache, only-if-cached\n        credentials: 'same-origin',\n        // include, *same-origin, omit\n        headers: {\n          'Content-Type': 'text/plain' // 'Content-Type': 'application/x-www-form-urlencoded',\n\n        },\n        redirect: 'follow',\n        // manual, *follow, error\n        referrerPolicy: 'no-referrer' // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n\n      });\n      req.then(result => {\n        var res = result.json();\n        res.then(tmp => {\n          resolve({\n            statusCode: 200,\n            body: JSON.stringify(tmp, null, 4)\n          });\n        });\n      });\n    });\n    var tmp = JSON.parse(Response.body);\n    return tmp;\n  }\n};","map":{"version":3,"sources":["/Users/johncomonitski/Programming Projects/Dashboard2/Dashboard/src/components/Forms.js"],"names":["React","useState","useEffect","useContext","Col","Row","Card","Form","Button","InputGroup","UserContext","GeneralInfoForm","props","firstname","setFirstname","lastname","setLastname","email","setEmail","paypal_email","setPaypal_Email","ss_api","setSS_Api","shopify_site","setShopify_Site","userSettings","id","user","setUser","e","target","value","updateDB","updates","tmpUser","document","getElementById","settings","console","log","queryDB","start","end","q","url","Response","Promise","resolve","reject","req","fetch","method","mode","cache","credentials","headers","redirect","referrerPolicy","then","result","res","json","tmp","statusCode","body","JSON","stringify","parse"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport { Col, Row, Card, Form, Button, InputGroup } from '@themesberg/react-bootstrap';\nimport { UserContext } from \"../pages/UserContext\";\n\n\nexport const GeneralInfoForm = (props) => {\n  //Form items\n  const [firstname, setFirstname] = useState(\"\");\n  const [lastname, setLastname] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [paypal_email, setPaypal_Email] = useState(\"\");\n  const [ss_api, setSS_Api] = useState(\"\");\n  const [shopify_site, setShopify_Site] = useState(\"\");\n  //User\n  const {userSettings, id} = props;\n  //User\n  const {user, setUser} = useContext(UserContext);\n\n  useEffect(() => {\n    setFirstname(userSettings.firstname);\n    setLastname(userSettings.lastname);\n    setEmail(userSettings.email);\n    setPaypal_Email(userSettings.paypal_email);\n    setSS_Api(userSettings.ss_api);\n    setShopify_Site(userSettings.shopify_site);\n\n  },[])\n\n  return (\n    <Card border=\"light\" className=\"bg-white shadow-sm mb-4\">\n      <Card.Body>\n        <h5 className=\"mb-4\">General information</h5>\n        <Form>\n          <Row>\n            <Col md={6} className=\"mb-3\">\n              <Form.Group>\n                <Form.Label>First Name</Form.Label>\n                <Form.Control id=\"firstname\" value={firstname} onChange={e => setFirstname(e.target.value)} required type=\"text\" placeholder=\"Enter your first name\"/>\n              </Form.Group>\n            </Col>\n            <Col md={6} className=\"mb-3\">\n              <Form.Group >\n                <Form.Label>Last Name</Form.Label>\n                <Form.Control id=\"lastname\" value={lastname} onChange={e => setLastname(e.target.value)} required type=\"text\" placeholder=\"Also your last name\" />\n              </Form.Group>\n            </Col>\n          </Row>\n\n          <Row>\n            <Col md={12} className=\"mb-3\">\n              <Form.Group >\n                <Form.Label>Email</Form.Label>\n                <Form.Control id=\"email\" value={email} onChange={e => setEmail(e.target.value)} required type=\"text\" placeholder=\"name@company.com\" />\n              </Form.Group>\n            </Col>\n          </Row>\n\n          <h5 className=\"my-4\">Stream Alert and Payment Information</h5>\n          <Row>\n            <Col md={12} className=\"mb-3\">\n              <Form.Group >\n                <Form.Label>Paypal Email</Form.Label>\n                <Form.Control id=\"paypal\" value={paypal_email} onChange={e => setPaypal_Email(e.target.value)} required type=\"text\" placeholder=\"Enter your paypal email\" />\n              </Form.Group>\n            </Col>\n            <Col md={12} className=\"mb-3\">\n              <Form.Group >\n                <Form.Label>Squarespace API Key</Form.Label>\n                <Form.Control id=\"ss\" value={ss_api} onChange={e => setSS_Api(e.target.value)} required type=\"text\" placeholder=\"Enter your Squarespace API Key\" />\n              </Form.Group>\n            </Col>\n            <Col md={12} className=\"mb-3\">\n              <Form.Group >\n                <Form.Label>Shopify site URL</Form.Label>\n                <Form.Control id=\"shopify\" value={shopify_site} onChange={e => setShopify_Site(e.target.value)} required type=\"text\" placeholder=\"Enter your Shopify site url\" />\n              </Form.Group>\n            </Col>\n          </Row>\n          <div className=\"mt-3\">\n            <Button variant=\"primary\" type=\"button\" onClick={updateDB}>Save All</Button>\n          </div>\n        </Form>\n      </Card.Body>\n    </Card>\n  );\n\n  async function updateDB(){\n    var updates = \"\"\n    var tmpUser = user;\n    if(document.getElementById(\"firstname\").value !== \"\"){\n      updates = updates +\"&firstname=\" + document.getElementById(\"firstname\").value;\n      tmpUser.settings.firstname = document.getElementById(\"firstname\").value;\n    }\n    if(document.getElementById(\"lastname\").value !== \"\"){\n      updates = updates +\"&lastname=\" + document.getElementById(\"lastname\").value;\n      tmpUser.settings.lastname = document.getElementById(\"lastname\").value;\n    }\n    if(document.getElementById(\"email\").value !== \"\"){\n      updates = updates +\"&email=\" + document.getElementById(\"email\").value;\n      tmpUser.settings.email = document.getElementById(\"email\").value;\n    }\n    if(document.getElementById(\"paypal\").value !== \"\"){\n      updates = updates +\"&paypal=\" + document.getElementById(\"paypal\").value;\n      tmpUser.settings.paypal_email = document.getElementById(\"paypal\").value;\n    }\n    if(document.getElementById(\"ss\").value !== \"\"){\n      //updates = updates +\"&ss=\" + document.getElementById(\"ss\").value;\n      //tmpUser.settings.ss_api = document.getElementById(\"ss\").value;\n    }\n    if(document.getElementById(\"shopify\").value !== \"\"){\n      //updates = updates +\"&shopify=\" + document.getElementById(\"shopify\").value;\n      //tmpUser.settings.shopify_site = document.getElementById(\"shopify\").value;\n    }\n\n    console.log(updates)\n    setUser(tmpUser);\n    if(updates !== \"\"){\n      queryDB(updates, \"\", \"settings\", id);\n    }\n\n  }\n\n  async function queryDB(start, end, q, id){\n      //Building API Call\n      var url = \"https://d7rc7vsgld.execute-api.us-west-2.amazonaws.com/dev/q?id=\" + id;\n      url += \"&q=\"+q\n      url += start;\n      //console.log(url)\n      //Making Call\n      const Response = await new Promise((resolve, reject) => {\n    \tvar req = fetch(url, {\n    \t\tmethod: 'GET', // *GET, POST, PUT, DELETE, etc.\n    \t\tmode: 'cors', // no-cors, *cors, same-origin\n    \t\tcache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n    \t\tcredentials: 'same-origin', // include, *same-origin, omit\n    \t\theaders: {\n    \t\t  'Content-Type': 'text/plain',\n    \t\t  // 'Content-Type': 'application/x-www-form-urlencoded',\n    \t\t},\n    \t\tredirect: 'follow', // manual, *follow, error\n    \t\treferrerPolicy: 'no-referrer' // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n    \t});\n    \treq.then((result) => {\n    \t    var res = result.json()\n    \t    res.then((tmp) => {\n    \t        resolve({\n        \t\t    statusCode: 200,\n        \t\t    body: JSON.stringify(tmp, null, 4)\n        \t    });\n    \t    });\n    \t});\n      });\n      var tmp = (JSON.parse(Response.body));\n      return tmp;\n  }\n};\n"]},"metadata":{},"sourceType":"module"}