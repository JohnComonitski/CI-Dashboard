{"ast":null,"code":"import _regeneratorRuntime from\"/Users/johncomonitski/Programming Projects/Dashboard2/Dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/johncomonitski/Programming Projects/Dashboard2/Dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useEffect}from\"react\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faAngleLeft}from\"@fortawesome/free-solid-svg-icons\";import{Col,Row,Container,Form,Button}from'@themesberg/react-bootstrap';import{Routes}from\"../../routes\";import BgImage from\"../../assets/img/illustrations/signin.svg\";//gAPI\nimport{gapi,loadGapiInsideDOM,loadClientAuth2,loadAuth2WithProps}from'gapi-script';export default(function(props){var CLIENT_ID='640109321718-hi3cr72v38sa783htp8ihbd84qh6i56p.apps.googleusercontent.com';var DISCOVERY_DOCS=[\"https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest\"];var SCOPES='https://www.googleapis.com/auth/youtube.readonly';useEffect(function(){var setAuth2=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var auth2,_gapi;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return loadAuth2WithProps(gapi,{clientId:CLIENT_ID,scope:SCOPES,discoveryDocs:DISCOVERY_DOCS});case 2:auth2=_context.sent;if(!(auth2.isSignedIn.le===true)){_context.next=12;break;}_context.next=6;return loadGapiInsideDOM();case 6:_gapi=_context.sent;_context.next=9;return loadClientAuth2(_gapi,CLIENT_ID,SCOPES,DISCOVERY_DOCS);case 9://Get ID and push to Dashboard\ntry{getYouTubeID();}catch(e){}_context.next=13;break;case 12:attachSignin(document.getElementById('signInBtn'),auth2);case 13:case\"end\":return _context.stop();}}},_callee);}));return function setAuth2(){return _ref.apply(this,arguments);};}();setAuth2();});var attachSignin=function attachSignin(element,auth2){auth2.attachClickHandler(element,{},/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(googleUser){var gapi;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return loadGapiInsideDOM();case 2:gapi=_context2.sent;_context2.next=5;return loadClientAuth2(gapi,CLIENT_ID,SCOPES,DISCOVERY_DOCS);case 5://Get ID and push to Dashboard\ntry{getYouTubeID();}catch(e){}case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref2.apply(this,arguments);};}(),function(error){console.log(JSON.stringify(error));});};function getYouTubeID(){return _getYouTubeID.apply(this,arguments);}function _getYouTubeID(){_getYouTubeID=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0://Get youtube api\nnew Promise(function(resolve){gapi.client.load('youtube','v3').then(function(){//Get YouTube ID\ngapi.client.youtube.channels.list({\"part\":[\"snippet,contentDetails,statistics\"],\"mine\":true}).then(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(response){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0://response.result.items[0]['id']\n//Get channel ID and move to dashboar\nprops.history.push({pathname:Routes.DashboardOverview.path,state:\"UCMUP9j-QidC_S0KLlO06uCg\"});case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x2){return _ref3.apply(this,arguments);};}());});});case 1:case\"end\":return _context4.stop();}}},_callee4);}));return _getYouTubeID.apply(this,arguments);}return/*#__PURE__*/React.createElement(\"main\",null,/*#__PURE__*/React.createElement(\"section\",{className:\"d-flex align-items-center my-5 mt-lg-6 mb-lg-5\"},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(\"p\",{className:\"text-center\"},/*#__PURE__*/React.createElement(\"a\",{href:\"https://creatorinventory.com/\",className:\"text-gray-700\"},\" \",/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faAngleLeft,className:\"me-2\"}),\" Back to homepage \")),/*#__PURE__*/React.createElement(Row,{className:\"justify-content-center form-bg-image\",style:{backgroundImage:\"url(\".concat(BgImage,\")\")}},/*#__PURE__*/React.createElement(Col,{xs:12,className:\"d-flex align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"bg-white shadow-soft border rounded border-light p-4 p-lg-5 w-100 fmxw-500\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-center text-md-center mb-4 mt-md-0\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"mb-0\"},\"Sign in using YouTube\")),/*#__PURE__*/React.createElement(Form,{className:\"mt-4\"},/*#__PURE__*/React.createElement(Button,{id:\"signInBtn\",variant:\"primary\",type:\"submit\",className:\"w-100\"},\"Log in with YouTube\")),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-3 mb-4 text-center\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fw-normal\"},\"Welcome to the Creator Inventory dashboard. Enter by signing in with the Google account associated with your YouTube channel.\")),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center align-items-center mt-4\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fw-normal\"},\"View our\",/*#__PURE__*/React.createElement(\"a\",{href:\"https://creatorinventory.com/privacy\",className:\"text-gray-700\"},\" Privacy Policy \")))))))));});","map":{"version":3,"sources":["/Users/johncomonitski/Programming Projects/Dashboard2/Dashboard/src/pages/examples/Signin.js"],"names":["React","useEffect","FontAwesomeIcon","faAngleLeft","Col","Row","Container","Form","Button","Routes","gapi","loadGapiInsideDOM","loadClientAuth2","loadAuth2WithProps","props","CLIENT_ID","DISCOVERY_DOCS","SCOPES","setAuth2","clientId","scope","discoveryDocs","auth2","isSignedIn","le","getYouTubeID","e","attachSignin","document","getElementById","element","attachClickHandler","googleUser","error","console","log","JSON","stringify","Promise","resolve","client","load","then","youtube","channels","list","response","history","push","pathname","DashboardOverview","path","state","backgroundImage","BgImage"],"mappings":"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","sourcesContent":["\nimport React, { useEffect } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faAngleLeft, } from \"@fortawesome/free-solid-svg-icons\";\nimport { Col, Row, Container, Form, Button} from '@themesberg/react-bootstrap';\n\nimport { Routes } from \"../../routes\";\nimport BgImage from \"../../assets/img/illustrations/signin.svg\";\n\n//gAPI\nimport { gapi, loadGapiInsideDOM, loadClientAuth2, loadAuth2WithProps} from 'gapi-script'\n\n\nexport default (props) => {\n  const CLIENT_ID = '640109321718-hi3cr72v38sa783htp8ihbd84qh6i56p.apps.googleusercontent.com';\n  const DISCOVERY_DOCS = [\"https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest\"];\n  const SCOPES = 'https://www.googleapis.com/auth/youtube.readonly';\n\n  useEffect(() => {\n\n    const setAuth2 = async () => {\n      const auth2 = await loadAuth2WithProps(gapi, {clientId:CLIENT_ID, scope:SCOPES, discoveryDocs:DISCOVERY_DOCS})\n      if (auth2.isSignedIn.le === true) {\n        //User is already signed in\n        const gapi = await loadGapiInsideDOM();\n        //Load Client\n        await loadClientAuth2(gapi, CLIENT_ID, SCOPES, DISCOVERY_DOCS);\n        //Get ID and push to Dashboard\n        try{\n          getYouTubeID();\n        }\n        catch(e){\n\n        }\n      }\n      else {\n        attachSignin(document.getElementById('signInBtn'), auth2);\n      }\n    }\n    setAuth2();\n  });\n\n  const attachSignin = (element, auth2) => {\n    auth2.attachClickHandler(element, {},\n      async (googleUser) => {\n        //Handle sign in\n        const gapi = await loadGapiInsideDOM();\n        //load client\n        await loadClientAuth2(gapi, CLIENT_ID, SCOPES, DISCOVERY_DOCS);\n        //Get ID and push to Dashboard\n        try{\n          getYouTubeID();\n        }\n        catch(e){\n\n        }\n      }, (error) => {\n      console.log(JSON.stringify(error))\n    });\n  };\n\n  async function getYouTubeID(){\n    //Get youtube api\n    new Promise(resolve => {\n      gapi.client.load('youtube','v3')\n      .then(() => {\n        //Get YouTube ID\n        gapi.client.youtube.channels.list({\n          \"part\": [\n            \"snippet,contentDetails,statistics\"\n          ],\n          \"mine\": true\n        })\n        .then(async function(response) {\n            //response.result.items[0]['id']\n            //Get channel ID and move to dashboar\n            props.history.push({pathname: Routes.DashboardOverview.path, state: \"UCMUP9j-QidC_S0KLlO06uCg\"});\n        });\n      });\n    });\n  }\n\n  return (\n    <main>\n      <section className=\"d-flex align-items-center my-5 mt-lg-6 mb-lg-5\">\n        <Container>\n          <p className=\"text-center\">\n            <a href=\"https://creatorinventory.com/\" className=\"text-gray-700\"> <FontAwesomeIcon icon={faAngleLeft} className=\"me-2\" /> Back to homepage </a>\n          </p>\n          <Row className=\"justify-content-center form-bg-image\" style={{ backgroundImage: `url(${BgImage})` }}>\n            <Col xs={12} className=\"d-flex align-items-center justify-content-center\">\n              <div className=\"bg-white shadow-soft border rounded border-light p-4 p-lg-5 w-100 fmxw-500\">\n                <div className=\"text-center text-md-center mb-4 mt-md-0\">\n                  <h3 className=\"mb-0\">Sign in using YouTube</h3>\n                </div>\n\n\n\n                <Form className=\"mt-4\">\n                  <Button id=\"signInBtn\" variant=\"primary\" type=\"submit\" className=\"w-100\">\n                    Log in with YouTube\n                  </Button>\n                </Form>\n\n                <div className=\"mt-3 mb-4 text-center\">\n                  <span className=\"fw-normal\">Welcome to the Creator Inventory dashboard. Enter by signing in with the Google account associated with your YouTube channel.</span>\n                </div>\n\n                <div className=\"d-flex justify-content-center align-items-center mt-4\">\n                  <span className=\"fw-normal\">\n                    View our\n                      <a href=\"https://creatorinventory.com/privacy\" className=\"text-gray-700\"> Privacy Policy </a>\n                  </span>\n                </div>\n              </div>\n            </Col>\n          </Row>\n        </Container>\n      </section>\n    </main>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}